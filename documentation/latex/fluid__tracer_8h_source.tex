\doxysection{fluid\+\_\+tracer.\+h}
\hypertarget{fluid__tracer_8h_source}{}\label{fluid__tracer_8h_source}\index{/home/jonat/Documents/01\_Studium/NumSim/src/surface/fluid\_tracer.h@{/home/jonat/Documents/01\_Studium/NumSim/src/surface/fluid\_tracer.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <queue>}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <algorithm>}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <cmath>}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ <cassert>}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ "{}../discretization/discretization.h"{}}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ "{}../boundary/boundary.h"{}}}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classFluidTracer}{FluidTracer}}\ \{}
\DoxyCodeLine{00016\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00017\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classFluidTracer}{FluidTracer}}(\textcolor{keywordtype}{int}\ numParticlesperCell,}
\DoxyCodeLine{00018\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::shared\_ptr<Discretization>\ discretization,}
\DoxyCodeLine{00019\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::shared\_ptr<Mask>\ mask);}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Mainly\ for\ testing\ purposes}}
\DoxyCodeLine{00022\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classFluidTracer}{FluidTracer}}(std::vector<double>\ x,\ std::vector<double>\ y,}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::shared\_ptr<Discretization>\ discretization,}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::shared\_ptr<Mask>\ mask);}
\DoxyCodeLine{00025\ }








\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classFluidTracer_aba4d452f26e9276b91256dd251789b90}{moveParticles}}(\textcolor{keywordtype}{double}\ dt);}
\DoxyCodeLine{00036\ }





\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classFluidTracer_ace163e1fe040acbd4c3122f082b08eea}{createParticles}}(\textcolor{keywordtype}{double}\ positionSourceX,\ \textcolor{keywordtype}{double}\ positionSourceY);}
\DoxyCodeLine{00044\ }




\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classFluidTracer_adc687a4988f532e21e13c9aa0591d658}{getNumberOfParticles}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00051\ }




\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classFluidTracer_adc687a4988f532e21e13c9aa0591d658}{getNumberOfParticles}}(\textcolor{keywordtype}{int}\ i,\ \textcolor{keywordtype}{int}\ j)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ }




\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ std::array<double,\ 2>\ \mbox{\hyperlink{classFluidTracer_a37ee0325d6af08be6eba8b073162342e}{getParticlePosition}}(\textcolor{keywordtype}{int}\ i)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ std::array<int,\ 2>\ cellOfParticle(\textcolor{keywordtype}{int}\ i);}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ val2CellX(\textcolor{keywordtype}{double}\ xVal);}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ val2CellY(\textcolor{keywordtype}{double}\ yVal);}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Only\ test}}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ std::array<double,\ 2>\ updateParticle(\textcolor{keywordtype}{int}\ i,\ std::array<int,\ 2>\ idx,\ \textcolor{keywordtype}{double}\ dt,\ std::array<double,2>\ vel,\ \textcolor{keywordtype}{int}\ depth);}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ std::array<double,\ 2>\ \mbox{\hyperlink{classFluidTracer_aba4d452f26e9276b91256dd251789b90}{moveParticles}}(\textcolor{keywordtype}{double}\ dt,\ std::array<double,\ 2>\ vel);}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ printParticles();}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ initializeHomogenousParticleDistribution();}


\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ initializeFluidCell(\textcolor{keywordtype}{int}\ i,\ \textcolor{keywordtype}{int}\ j,\ \textcolor{keywordtype}{int}\ idx);}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Helper\ for\ move\ Particles}}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ getThresholdParticlesFluidCell();}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ std::array<int,\ 2>\ updateParticle(\textcolor{keywordtype}{int}\ i,\ std::array<int,\ 2>\ idx,\ \textcolor{keywordtype}{double}\ dt,\ std::array<double,2>\ vel);}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ resetVelocityInAirCells();}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ numParticles\_;}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ numParticlesPerCell\_;\ \textcolor{comment}{//\ <!\ is\ usually\ because\ of\ ceil\ larger\ then\ numParticlesPerCell>\ }}
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ aspect\ ratio\ e.g.\ 1.0\ for\ square\ cells\ and\ 0.5\ for\ (dx\ =\ 2*dy)\ cells}}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ seedRelationDyDx\_;}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ how\ many\ particles\ are\ placed\ in\ each\ direction\ per\ cell}}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ n\_x,\ n\_y;}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ inital\ count\ of\ fluid\ cells}}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ numFluidCells\_;}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ std::shared\_ptr<Discretization>\ discretization\_;}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ std::shared\_ptr<Mask>\ mask\_;}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ std::vector<double>\ x\_;}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ std::vector<double>\ y\_;}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ std::vector<int>\ currentParticlesPerCell\_;}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00110\ \};}

\end{DoxyCode}
